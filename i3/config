##################################
# Kookie's no so amazing i3 conf
#

set $mod Mod4

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:iosevka-term-ss09 10

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
bindsym $mod+Return exec kitty

# kill focused window
bindsym $mod+Shift+q kill

# start dmenu (a program launcher)
bindsym $mod+d exec dmenu_run

# Run new command on new (named) workspace
bindsym $mod+Shift+d exec ~/.config/i3/dynamic-tagging/i3-dtags-new.sh

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# Move workspaces between monitors
bindsym $mod+Ctrl+Shift+Right move workspace to output right
bindsym $mod+Ctrl+Shift+Left  move workspace to output left


# split in horizontal orientation
bindsym $mod+2 split h

# split in vertical orientation
bindsym $mod+1 split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# bindsym $mod+Ctrl+l exec --no-startup-id i3burrito
bindsym $mod+Ctrl+l exec --no-startup-id locker

## Rename workspace.
bindsym $mod+Ctrl+r exec i3-input -F 'rename workspace to "%s"' -P 'New name: '

## Show all tags and allow user to select one though dmenu.
bindsym $mod+s exec /home/spacekookie/.config/i3/dynamic-tagging/i3-dtags.sh -fn '$dfont'

## Show tags, and move the current window to the one selected using dmenu.
bindsym $mod+Shift+s exec $HOME/.config/i3/dynamic-tagging/i3-dtags-moveto.sh -fn '$dfont'

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+e layout default
bindsym $mod+w layout tabbed
bindsym $mod+q layout stacked

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+a focus parent

# Pulse Audio controls
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume 0 +5% 
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume 0 -5% 
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute 0 toggle 

# Sreen brightness controls
bindsym XF86MonBrightnessUp exec xbacklight -inc 5
bindsym XF86MonBrightnessDown exec xbacklight -dec 5

# reload the configuration file
bindsym $mod+Shift+c reload

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart

# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'GOD THINK OF ALL THE WORKSPACES YOU ARE ABOUT TO KILL!! ðŸ˜±ðŸ˜¨' -b 'I HATE MY LIFE' 'i3-msg exit'"

focus_follows_mouse no

# resize window (you can also use the mouse for that)
mode "resize" {
        bindsym h resize shrink width 5 px or 5 ppt
        bindsym j resize grow height 5 px or 5 ppt
        bindsym k resize shrink height 5 px or 5 ppt
        bindsym l resize grow width 5 px or 5 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 5 px or 5 ppt
        bindsym Down resize grow height 5 px or 5 ppt
        bindsym Up resize shrink height 5 px or 5 ppt
        bindsym Right resize grow width 5 px or 5 ppt

        # back to normal: Enter or Escape or $mod+r
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}

bindsym $mod+r mode "resize"

# Compton
exec_always --no-startup-id "killall -q compton; compton --config ~/.config/i3/compton.conf"

# Make CAPSLOCK into ESC because it's 2018
exec_always --no-startup-id "xmodmap -e 'clear lock' #disable caps lock switch"
exec_always --no-startup-id "xmodmap -e 'keysym Caps_Lock = Escape' #set caps_lock as escape"
exec_always --no-startup-id "setxkbmap -layout crumbs intl -option caps:escape"

# Set a wallpaper
exec --no-startup-id feh --bg-fill ~/Pictures/Wallpapers/robot-wallpaper-pack-1080p-hd.jpg

# Start redshift automatically
exec redshift-gtk

# Start the nm-tray thingy
exec nm-tray

# Syncthing is kinda important!
exec "syncthing-gtk -m -s"

bar {
    status_command i3status
    position bottom
    bindsym button4 nop
    bindsym button5 nop
    workspace_buttons yes
    colors  {
        background #0F0F0F
        statusline #D5D5D5
    }
}

# No titlebar â€“ change some colours
default_border pixel 3
client.focused #4c7899 #285577 #ffffff #F73E5F #666666
